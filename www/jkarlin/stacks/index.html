<body>
<script src="/banner.cgi?foo=true"></script>
<script>
  function generateStack(name) {
    let stack = (new Error()).stack;
    let hidFunction = (stack.includes('hideThisFunction') || stack.includes('asyncHideThisFunction')) ? '❌':'✅';
    let hidFile = stack.includes('hideThisFile') ? '❌':'✅';
    let d = document.createElement('details');
    let s = document.createElement('summary');
    s.innerText = `${name} (hid function: ${hidFunction}, hid file: ${hidFile})`;
    let p = document.createElement('pre');
    p.innerText = (new Error()).stack;
    d.appendChild(s);
    d.appendChild(p);
    document.body.appendChild(d);
  }

  test();
</script>
