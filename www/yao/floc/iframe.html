<script>
async function foo() {
  return 1;
}

function appendTextToPage(savedTop, content) {
  savedTop.document.body.appendChild(document.createElement('div')).appendChild(document.createTextNode(content));
}

let savedTop = top;

appendTextToPage(savedTop, 'before frameElement.remove()');
frameElement.remove();
appendTextToPage(savedTop, 'before api foo');
foo().then(x => appendTextToPage(savedTop, 'foo resolved'));
appendTextToPage(savedTop, 'before api floc');
document.interestCohort()
  .then(floc => appendTextToPage(savedTop, 'floc resolved'))
  .catch(error => appendTextToPage(savedTop, 'floc rejected'));
appendTextToPage(savedTop, 'finish')
</script>
