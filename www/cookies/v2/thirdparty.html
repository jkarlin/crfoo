<!DOCTYPE html>
<meta charset="utf-8">
<button id="set-cookie">Set cookie (SameSite=None)</button>
<button id="set-partitioned-cookie">Set partitioned cookie (SameSite=None; Partitioned)</button>
<div>document.cookie is <span id="document-cookie"></span></div>
<button id="clear-cookies">Clear cookies</button>
<div id="service-worker-root">
  <div id="service-worker-status"></div>
  <button id="register-service-worker">Register Service Worker</button>
  <button id="unregister-service-worker">Unregister Service Worker</button>
</div>
<script>

for (const [id, endpoint] of [
    ['set-cookie', 'samesitenone'],
    ['set-partitioned-cookie', 'partitioned-3p'],
    ['clear-cookies', 'clear-site-data'],
]) {
  document.getElementById(id).addEventListener(
    'click', () => fetch(`/cookies/v2/${endpoint}.php`).catch(console.error));
}

setInterval(() => {
  document.getElementById('document-cookie').textContent = document.cookie;
}, 100);

</script>
<script src="/cookies/v2/service-worker-dom.js"></script>
